# AgentAskit direnv configuration (LEGACY COMPATIBILITY)
# REF: ADR-0005 Modern Tooling Strategy
#
# ============================================================
# NOTE: Nushell is the PRIMARY shell for this project.
# For full cross-platform functionality, use nushell:
#
#   nu -e 'source configs/nushell/env.nu'
#
# Or add to your ~/.config/nushell/config.nu:
#   source /path/to/agentaskit/configs/nushell/env.nu
# ============================================================
#
# This .envrc provides basic compatibility for bash/zsh users
# who haven't migrated to nushell yet.

# Project root
export AGENTASKIT_ROOT="${PWD}"

# XDG Base Directory compliance
export XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"
export XDG_DATA_HOME="${XDG_DATA_HOME:-$HOME/.local/share}"
export XDG_CACHE_HOME="${XDG_CACHE_HOME:-$HOME/.cache}"
export XDG_STATE_HOME="${XDG_STATE_HOME:-$HOME/.local/state}"

# Rust XDG compliance
export CARGO_HOME="${CARGO_HOME:-$XDG_DATA_HOME/cargo}"
export RUSTUP_HOME="${RUSTUP_HOME:-$XDG_DATA_HOME/rustup}"

# Tool paths
PATH_add "tools/bin"
PATH_add "$HOME/.local/bin"

# Aider configuration
export AIDER_CONFIG="$AGENTASKIT_ROOT/.aider.conf.yml"

# Load local .env if present (gitignored)
dotenv_if_exists .env.local
